/**
 * @file
 * Link Tool
 *
 * Part of Shake.sass.
 * @author Krisztian Pinter <krisz@keeteean.com>
 *
 * Simple link theming using native CSS color-mix().
 *
 * @example
 *   @use "../tools";
 *
 *   // Default: dark link that darkens on hover
 *   a {
 *     @include tools.link(var(--color-primary));
 *   }
 *
 *   // Light link on dark background - lightens on hover
 *   .dark-section a {
 *     @include tools.link(var(--color-light), $mode: light);
 *   }
 *
 *   // With underline
 *   a {
 *     @include tools.link(var(--color-primary), $decoration: underline);
 *   }
 */

/**
 * Imports
 */
@use "tools.transitions" as transitions;

/**
 * Link Mixin
 *
 * Uses native CSS color-mix() for hover state color variation.
 *
 * @parameter {color} $color - Link color (CSS variable or color value)
 * @parameter {string} $mode - Color mode:
 *   - `dark` (default): link is dark colored, darkens on hover (mixes with black)
 *   - `light`: link is light colored, lightens on hover (mixes with white)
 * @parameter {string} $decoration - text-decoration for :link/:visited (default: none)
 * @parameter {string} $decoration-hover - text-decoration for :hover/:active (default: none)
 */
@mixin link($color, $mode: dark, $decoration: none, $decoration-hover: none) {
  @include transitions.global-transition;

  text-decoration: $decoration;
  color: $color;

  &:visited {
    color: $color;
  }

  &:hover,
  &:active {
    text-decoration: $decoration-hover;

    @if $mode == dark {
      // Dark link → darken on hover
      color: color-mix(in oklch, $color, black 20%);
    }

    @else {
      // Light link → lighten on hover
      color: color-mix(in oklch, $color, white 30%);
    }
  }

  &:focus-visible {
    outline: 0.2rem solid currentColor;
    outline-offset: 0.2rem;
  }
}
